
<!DOCTYPE html>
<html lang="en" id="theme" class="light"
      xmlns:th="http://www.thymeleaf.org">

<head>
    <th:block th:insert="~{user/inc/head.html :: head(title='FAQ')}"></th:block>
</head>

<body>
<th:block th:insert="~{user/inc/header.html :: header}"></th:block>

<main id="main-content" class="position-relative">
    <div class="breadcrumb-main">
        <div class="container">
            <div class="d-flex flex-column flex-md-row align-items-center justify-content-between">
                <ol class="breadcrumb m-0">
                    <li class="breadcrumb-item"><a href="home">Home</a></li>
                    <li class="breadcrumb-item active" aria-current="page">FAQ</li>
                </ol>
                <h1 class="breadcrumb-title">자주묻는 질문</h1>
            </div>
        </div>
    </div>
    <div class="inner-gap">
        <div class="container">
            <div class="row gy-4">
                <!-- 왼쪽 폼 -->
                <div class="col-lg-4">
                    <div class="contact-wrapper bg-wrapper">
                        <h4 class="mb-3"><b>궁금하신 점은 무엇인가요?</b></h4>
                        <p class="mb-4">귀하의 이메일 주소는 공개되지 않습니다. 필수 입력 항목은 *로 표시됩니다.</p>
                        <form id="questionForm" onsubmit="event.preventDefault(); submitQuestion();">
                            <div class="row">
                                <!-- 이메일 -->
                                <div class="col-12">
                                    <div class="form-group">
                                        <label>이메일*</label>
                                        <input type="email" id="email" class="form-control" name="email" placeholder="name@mail.com" required>
                                    </div>
                                </div>
                                <!-- 제목 -->
                                <div class="col-12">
                                    <div class="form-group">
                                        <label>제목 *</label>
                                        <input type="text" id="title" class="form-control" name="title" placeholder="Subject" required>
                                    </div>
                                </div>
                                <!-- 내용 -->
                                <div class="col-12">
                                    <div class="form-group">
                                        <label>내용*</label>
                                        <textarea id="contents" class="form-control" name="contents" placeholder="Write Here Your Message" required></textarea>
                                    </div>
                                </div>
                                <!-- 제출 버튼 -->
                                <div class="col-12">
                                    <button class="primary-btn btn-light" type="submit">제출하기</button>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>

                <!-- 오른쪽 FAQ 목록 -->
                <div class="col-lg-8">
                    <h3 class="mb-3"><b>자주묻는 질문 목록</b></h3>
                    <div class="faq-accordion">
                        <div class="accordion" id="accordionExample">
                            <div class="accordion-item">
                                <h2 class="accordion-header" id="headingOne">
                                    <button class="accordion-button" type="button" data-bs-toggle="collapse"
                                            data-bs-target="#collapseOne" aria-expanded="true"
                                            aria-controls="collapseOne">
                                        실시간 경매는 어떻게 참여하나요?
                                    </button>
                                </h2>
                                <div id="collapseOne" class="accordion-collapse collapse show"
                                     aria-labelledby="headingOne" data-bs-parent="#accordionExample">
                                    <div class="accordion-body">
                                        메인 홈페이지에 카테고리 목록 하단에 '실시간 경매' 리스트를 
확인하실 수 있습니다. 목록을 보시고 참여하기를 누르시면 실시간으로 진행중인 경매로 입장하실 수 있습니다.
                                    </div>
                                </div>
                            </div>
                            <div class="accordion-item">
                                <h2 class="accordion-header" id="headingTwo">
                                    <button class="accordion-button collapsed" type="button"
                                            data-bs-toggle="collapse" data-bs-target="#collapseTwo"
                                            aria-expanded="false" aria-controls="collapseTwo"> 
                                    	저의 경매 내역을 확인하고 싶어요.
                                    </button>
                                </h2>
                                <div id="collapseTwo" class="accordion-collapse collapse"
                                     aria-labelledby="headingTwo" data-bs-parent="#accordionExample">
                                    <div class="accordion-body">
                                        저희 사이트 회원이실 경우 마이페이지에서 경매 기록을 보시면 
회원님의 입찰 기록을 확인하실 수 있습니다.
                                    </div>
                                </div>
                            </div>
                            <div class="accordion-item">
                                <h2 class="accordion-header" id="headingThree">
                                    <button class="accordion-button collapsed" type="button"
                                            data-bs-toggle="collapse" data-bs-target="#collapseThree"
                                            aria-expanded="false" aria-controls="collapseThree">
                                        경매 마감시간이 궁금합니다.
                                    </button>
                                </h2>
                                <div id="collapseThree" class="accordion-collapse collapse"
                                     aria-labelledby="headingThree" data-bs-parent="#accordionExample">
                                    <div class="accordion-body">
                                    	페이지 상단에 경매 카테고리를 클릭하시면 인터넷 입찰 페이지에서
실시간으로 해당 경매 물품의 남은 시간을 알 수 있습니다.
                                    </div>
                                </div>
                            </div>
                            <div class="accordion-item">
                                <h2 class="accordion-header" id="headingFour">
                                    <button class="accordion-button collapsed" type="button"
                                            data-bs-toggle="collapse" data-bs-target="#collapseFour"
                                            aria-expanded="false" aria-controls="collapseFour">
                                        입찰 금액을 잘못 적었는데 취소방법이 궁금합니다.
                                    </button>
                                </h2>
                                <div id="collapseFour" class="accordion-collapse collapse"
                                     aria-labelledby="headingFour" data-bs-parent="#accordionExample">
                                    <div class="accordion-body">
                                    	경우에 따라 입찰을 취소할 수 없으니, 경매를 진행할 때 신중히 결정
                                    	하시길 바랍니다.
                                    </div>
                                </div>
                            </div>
                            <div class="accordion-item">
                                <h2 class="accordion-header" id="headingFive">
                                    <button class="accordion-button collapsed" type="button"
                                            data-bs-toggle="collapse" data-bs-target="#collapseFive"
                                            aria-expanded="false" aria-controls="collapseFive">
                                        제가 좋아하는 물건이 있는데 경매가 시작되면 알림 기능이 있나요?
                                    </button>
                                </h2>
                                <div id="collapseFive" class="accordion-collapse collapse"
                                     aria-labelledby="headingFive" data-bs-parent="#accordionExample">
                                    <div class="accordion-body">
                                    	회원님의 관심있으신 물품을 내 위시리스트에 담으시면, 해당 
                                    	물품의 알림이 회원님의 계정 또는 마이페이지로 알림이 전달됩니다.
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    
 
     
    
    
</main>

<th:block th:insert="~{user/inc/footer.html :: footer}"></th:block>
<th:block th:insert="~{user/inc/scripts.html :: scripts(jquery=true, bootstrap=true, custom=true)}"></th:block>

<script>
   
// submitQuestion 함수는 글로벌 스코프로 설정되어야 함
window.submitQuestion = async function () {
    try {
        const email = document.getElementById("email").value.trim();
        const title = document.getElementById("title").value.trim();
        const contents = document.getElementById("contents").value.trim();

        // 입력값 검증
        if (!email || !title || !contents) {
            alert("모든 필드를 입력해주세요.");
            return;
        }

        // 서버로 데이터 전송
        const response = await fetch('/questions/submit', {
            method: 'POST',
            headers: { 'Content-Type': 'application/x-www-form-urlencoded' },
            body: `email=${encodeURIComponent(email)}&title=${encodeURIComponent(title)}&contents=${encodeURIComponent(contents)}`
        });

        // 응답 처리
        if (response.ok) {
            const result = await response.json();
            alert(result.message);

            if (result.success) {
                // 입력값 초기화
                document.getElementById("email").value = '';
                document.getElementById("title").value = '';
                document.getElementById("contents").value = '';
            }
        } else {
            throw new Error("서버에서 요청을 처리하지 못했습니다.");
        }
    } catch (error) {
        console.error("질문 제출 중 오류 발생:", error);
        alert("질문 제출 중 문제가 발생했습니다. 다시 시도해주세요.");
    }
};


    
</script>
</body>
</html>
